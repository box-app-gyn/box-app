.PHONY: help clean install build deploy

help: ## Mostra esta ajuda
	@echo "Comandos disponÃ­veis:"
	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | sort | awk 'BEGIN {FS = ":.*?## "}; {printf "\033[36m%-20s\033[0m %s\n", $$1, $$2}'

clean: ## Limpa caches e arquivos temporÃ¡rios
	@echo "ğŸ§¹ Limpando caches..."
	rm -rf dist
	rm -rf build
	rm -rf node_modules/.cache
	rm -rf .firebase
	rm -rf coverage
	rm -rf .nyc_output
	find . -name "._*" -delete
	find . -name ".DS_Store" -delete
	find . -name "*.log" -delete
	find . -name "*.tsbuildinfo" -delete
	@echo "âœ… Limpeza concluÃ­da!"

install: ## Instala dependÃªncias
	@echo "ğŸ“¦ Instalando dependÃªncias..."
	npm install

build: ## Faz build do projeto
	@echo "ğŸ”¨ Fazendo build..."
	npm run build

deploy: ## Deploy das functions
	@echo "â˜ï¸  Fazendo deploy..."
	npm run deploy:functions

dev: ## Executa em modo desenvolvimento
	@echo "ğŸš€ Iniciando desenvolvimento..."
	npm run dev 